spring:
  application:
    name: kiero-test

  # JPA 설정
  # 데이터소스는 각 테스트에서 TestContainers로 동적 설정
  jpa:
    hibernate:
      ddl-auto: create-drop  # 테스트 실행 시마다 스키마 재생성
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect  # MySQL 사용 (실제 환경과 동일)
        format_sql: true
        show_sql: true
    open-in-view: false

  # Spring AI OpenAI 설정
  ai:
    openai:
      api-key: ${OPENAI_API_KEY:sk-dummy-key-for-test-prevention}
      chat:
        options:
          model: gpt-4o-mini
          temperature: 0.1

# AWS 설정 (테스트용 더미 값)
aws:
  s3:
    bucket: test-bucket
  region: ap-northeast-2
  credentials:
    access-key: test-access-key
    secret-key: test-secret-key

# JWT 설정 (테스트용 더미 값)
jwt:
  secret: test-jwt-secret-key-for-testing-purposes-minimum-256-bits-required
  access-token-expire-time: 3600000
  refresh-token-expire-time: 86400000

# 공공데이터 API 설정
open-api:
  service-key: ${OPEN_API_SERVICE_KEY:dummy-service-key-for-test}

# CORS 설정
cors:
  allowed-origins: http://localhost:3000,http://localhost:5173

# Swagger 설정
springdoc:
  swagger-ui:
    enabled: false  # 테스트에서는 비활성화
  api-docs:
    enabled: false  # 테스트에서는 비활성화

# 로깅 레벨
logging:
  level:
    org.springframework: INFO
    com.kiero: DEBUG
    org.testcontainers: INFO
    com.github.dockerjava: WARN
